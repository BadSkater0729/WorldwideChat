<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>com.expl0itz.worldwidechat</groupId>
  <artifactId>WorldwideChat</artifactId>
  <version>1.12.0-SNAPSHOT</version>

  <name>WorldwideChat</name>
  <description>Break the blocky language barrier!</description>

  <properties>
      <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding> 
  </properties>

  <dependencies>
        <dependency>
           <groupId>org.spigotmc</groupId>
           <artifactId>spigot-api</artifactId>
           <version>1.19-R0.1-SNAPSHOT</version>
           <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>com.ibm.watson</groupId>
            <artifactId>ibm-watson</artifactId>
            <version>10.0.1</version>
        </dependency>
        <dependency>
            <groupId>com.ibm.cloud</groupId>
            <artifactId>sdk-core</artifactId>
            <version>9.17.3</version>
        </dependency>
        <dependency>
            <groupId>com.google.code.gson</groupId>
            <artifactId>gson</artifactId>
            <version>2.9.0</version>
        </dependency>
        <dependency>
            <groupId>net.kyori</groupId>
            <artifactId>adventure-text-serializer-gson</artifactId>
            <version>4.11.0</version>
        </dependency>
        <dependency>
            <groupId>net.kyori</groupId>
            <artifactId>adventure-api</artifactId>
            <version>4.11.0</version>
        </dependency>
        <dependency>
            <groupId>net.kyori</groupId>
            <artifactId>adventure-nbt</artifactId>
            <version>4.11.0</version>
        </dependency>
        <dependency>
            <groupId>net.kyori</groupId>
            <artifactId>adventure-key</artifactId>
            <version>4.11.0</version>
        </dependency>
        <dependency>
            <groupId>net.kyori</groupId>
            <artifactId>adventure-text-serializer-gson-legacy-impl</artifactId>
            <version>4.11.0</version>
        </dependency>
        <dependency>
            <groupId>net.kyori</groupId>
            <artifactId>adventure-platform-bukkit</artifactId>
            <version>4.1.1</version>
        </dependency>
        <dependency>
            <groupId>net.kyori</groupId>
            <artifactId>adventure-platform-api</artifactId>
            <version>4.1.1</version>
        </dependency>
        <dependency>
            <groupId>net.kyori</groupId>
            <artifactId>adventure-platform-common</artifactId>
            <version>4.0.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>net.kyori</groupId>
            <artifactId>examination-api</artifactId>
            <version>1.3.0</version>
        </dependency>
        <dependency>
            <groupId>commons-io</groupId>
            <artifactId>commons-io</artifactId>
            <version>2.11.0</version>
        </dependency>
        <dependency>
            <groupId>com.google.cloud</groupId>
            <artifactId>google-cloud-translate</artifactId>
            <version>2.2.0</version>
        </dependency>
        <dependency>
            <groupId>com.amazonaws</groupId>
            <artifactId>aws-java-sdk-translate</artifactId>
            <version>1.12.248</version>
        </dependency>
        <dependency>
            <groupId>com.amazonaws</groupId>
            <artifactId>aws-java-sdk-s3</artifactId>
            <version>1.12.248</version>
        </dependency>
        <dependency>
            <groupId>org.jsoup</groupId>
            <artifactId>jsoup</artifactId>
            <version>1.15.1</version>
        </dependency>
        <dependency>
            <groupId>fr.minuskube.inv</groupId>
            <artifactId>smart-invs</artifactId>
            <version>1.2.7</version>
        </dependency>
        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter-engine</artifactId>
            <version>5.8.2</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.apache.maven</groupId>
            <artifactId>maven-artifact</artifactId>
            <version>3.8.6</version>
        </dependency>
        <dependency>
            <groupId>commons-lang</groupId>
            <artifactId>commons-lang</artifactId>
            <version>2.6</version>
        </dependency>
        <dependency>
            <groupId>com.github.cryptomorin</groupId>
            <artifactId>XSeries</artifactId>
            <version>8.8.0</version>
        </dependency>
        <!-- https://mvnrepository.com/artifact/com.zaxxer/HikariCP -->
        <dependency>
            <groupId>com.zaxxer</groupId>
            <artifactId>HikariCP</artifactId>
            <version>5.0.1</version>
        </dependency>
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>8.0.29</version>
        </dependency>
        <dependency>
            <groupId>org.apache.commons</groupId>
            <artifactId>commons-text</artifactId>
            <version>1.9</version>
        </dependency>
        <dependency>
            <groupId>com.github.ben-manes.caffeine</groupId>
            <artifactId>caffeine</artifactId>
            <version>3.1.1</version>
        </dependency>
    </dependencies>

  <repositories>
      <!-- This adds the Spigot Maven repository to the build -->
        <repository>
		    <id>jitpack.io</id>
		    <url>https://jitpack.io</url>
		</repository>
        <repository>
            <id>spigot-repo</id>
            <url>https://hub.spigotmc.org/nexus/content/repositories/snapshots/</url>
        </repository>
        <repository> <!-- for adventure development builds -->
            <id>sonatype-oss-snapshots</id>
            <url>https://oss.sonatype.org/content/repositories/snapshots/</url>
        </repository>
    </repositories>

  <build>
      <sourceDirectory>${basedir}/src/main/java</sourceDirectory>
      <finalName>${project.artifactId}</finalName>
      <resources>
            <resource>
                <targetPath>.</targetPath>
                <filtering>true</filtering>
                <directory>${basedir}/src/main/resources/</directory>
                <includes>
                    <include>*.yml</include>
                </includes>
            </resource>
        </resources>
      <plugins>
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.10.1</version>
        <configuration>
            <source>1.8</source>
            <target>1.8</target>
        </configuration>
      </plugin>
      <plugin>
          <artifactId>maven-surefire-plugin</artifactId>
          <version>3.0.0-M7</version>
      </plugin>
      <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-shade-plugin</artifactId>
          <version>3.3.0</version>
          <configuration>
              <minimizeJar>true</minimizeJar>
               <createDependencyReducedPom>false</createDependencyReducedPom>
                    <artifactSet>
                        <includes>
                            <include>commons-logging:commons-logging</include>
                            <include>commons-io:commons-io</include>
                            <include>com.ibm.watson:common</include>
                            <include>com.ibm.cloud:sdk-core</include>
                            <include>com.ibm.watson:compare-comply</include>
                            <include>com.ibm.watson:authenticator</include>
                            <include>com.ibm.watson:discovery</include>
                            <include>com.ibm.watson:language-translator</include>
                            <include>com.squareup.okhttp3:*</include>
                            <include>com.google.guava:guava</include>
                            <include>com.google.code.gson:*</include>
                            <include>com.google.cloud:google-cloud-core</include>
                            <include>com.google.cloud:google-cloud-core-http</include>
                            <include>com.google.http-client:*</include>
                            <include>com.google.api*</include>
                            <include>com.google.auth:*</include>
                            <include>com.google.cloud:google-cloud-translate</include>
                            <include>org.threeten:threetenbp</include>
                            <include>io.opencensus:opencensus*</include>
                            <include>io.grpc:*</include>
                            <include>com.ibm.watson:natural-language-classifier</include>
                            <include>com.ibm.watson:natural-language-understanding</include>
                            <include>org.apache.tomcat:tomcat-jdbc</include>
                            <include>org.apache.tomcat:tomcat-juli</include>
                            <include>org.apache.commons:commons-lang3</include>
                            <include>org.apache.commons:commons-text</include>
                            <include>commons-lang:commons-lang</include>
                            <include>net.kyori:adventure-api</include>
                            <include>net.kyori:adventure-key</include>
                            <include>net.kyori:adventure-nbt</include>
                            <include>net.kyori:adventure-text-serializer-legacy</include>
                            <include>net.kyori:adventure-text-serializer-gson</include>
                            <include>net.kyori:adventure-text-serializer-gson-legacy-impl</include>
                            <include>net.kyori:adventure-text-serializer-craftbukkit</include>
                            <include>net.kyori:adventure-platform-bukkit</include>
                            <include>net.kyori:adventure-platform-api</include>
                            <include>net.kyori:adventure-platform-common</include>
                            <include>net.kyori:adventure-platform-facet</include>
                            <include>net.kyori:examination-api</include>
                            <include>net.kyori:examination-string</include>
                            <include>org.jetbrains.kotlin:kotlin-stdlib</include>
                            <include>com.squareup.okio:okio</include>
                            <include>com.amazonaws:*</include>
                            <include>org.jsoup:jsoup</include>
                            <include>com.fasterxml.jackson.core:*</include>
                            <include>com.fasterxml.jackson.dataformat:*</include>
                            <include>org.apache.httpcomponents:*</include>
                            <include>joda-time:*</include>
                            <include>fr.minuskube.inv:smart-invs</include>
                            <include>org.apache.maven:maven-artifact</include>
                            <include>com.github.cryptomorin:XSeries</include>
                            <include>com.zaxxer:HikariCP</include>
                            <include>mysql:*</include>
                            <include>com.github.ben-manes.caffeine:caffeine</include>
                            <include>com.squareup.okio:okio-jvm</include>
                        </includes>
                    </artifactSet>
                    <filters>
                        <filter>
                            <artifact>*:*</artifact>
                            <excludes>
                                <exclude>module-info.class</exclude>
                                <exclude>META-INF/*.SF</exclude>
                                <exclude>META-INF/*.MF</exclude>
                                <exclude>META-INF/*.DSA</exclude>
                                <exclude>META-INF/*.RSA</exclude>
                                <exclude>META-INF/**</exclude>
                                <exclude>com/cryptomorin/xseries/messages/*</exclude>
                                <exclude>com/cryptomorin/xseries/particles/*</exclude>
                                <exclude>com/cryptomorin/xseries/unused/*</exclude>
                                <exclude>com/cryptomorin/xseries/XBiome*</exclude>
                                <exclude>com/cryptomorin/xseries/NMSExtras*</exclude>
                                <exclude>com/cryptomorin/xseries/NoteBlockMusic*</exclude>
                                <exclude>com/cryptomorin/xseries/XEntity*</exclude>
                                <exclude>com/cryptomorin/xseries/XBlock*</exclude>
                                <exclude>com/cryptomorin/xseries/XPotion*</exclude>
                                <exclude>com/cryptomorin/xseries/XSound*</exclude>
                                <exclude>com/cryptomorin/xseries/Skull*</exclude>
                            </excludes>
                        </filter>
                        <filter>
                            <artifact>fr.minuskube.inv:smart-invs</artifact>
                            <excludes>
                                <exclude>plugin.yml</exclude>
                            </excludes>
                        </filter>
                        <filter>
                            <artifact>commons*</artifact>
                            <includes>
                                <include>**</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>mysql*</artifact>
                            <includes>
                                <include>**</include>
                            </includes>
                        </filter>
                        <filter>
                            <artifact>com.github.ben-manes.caffeine:caffeine</artifact>
                            <includes>
                                <include>**</include>
                            </includes>
                        </filter>
                    </filters>
                    <relocations>
                        <relocation>
                            <pattern>net.kyori.examination</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.net.kyori.examination</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>net.kyori.adventure</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.net.kyori.adventure</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>org.apache</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.org.apache</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>com.google.gson</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.com.google.gson</shadedPattern>
                        </relocation>
                        <!-- Removed google cloud relocation. Relocating the API seems to break it...annoying, since another plugin who is using it may hate us but oh well -->
                        <relocation>
                            <pattern>mozilla</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.mozilla</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>com.amazonaws</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.com.amazonaws</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>com.ibm</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.com.ibm</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>com.fasterxml.jackson</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.com.fasterxml.jackson</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>org.jsoup</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.org.jsoup</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>fr.minuskube.inv</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.fr.minuskube.inv</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>okio</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.okio</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>okhttp3</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.okhttp3</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>org.joda.time</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.org.joda.time</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>io.grpc</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.io.grpc</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>grpc</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.grpc</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>io.opencensus</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.io.opencensus</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>org.threeten</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.org.threeten</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>kotlin</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.jetbrains.kotlin</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>com.cryptomorin.xseries</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.com.cryptomorin.xseries</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>com.zaxxer</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.com.zaxxer</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>com.mysql</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.com.mysql</shadedPattern>
                        </relocation>
                        <relocation>
                            <pattern>com.github.benmanes</pattern>
                            <shadedPattern>com.expl0itz.worldwidechat.libs.com.github.benmanes</shadedPattern>
                        </relocation>
                    </relocations>
              </configuration>
          <executions>
            <execution>
                    <phase>package</phase>
                    <goals>
                        	<goal>shade</goal>
                    </goals>
            </execution>
    </executions>
</plugin>
<plugin>
  <groupId>org.codehaus.mojo</groupId>
  <artifactId>tidy-maven-plugin</artifactId>
  <version>1.1.0</version>
</plugin>
    </plugins>
  </build>
</project>
